<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>

	<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
	<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>

</head>

<body style='margin : 0px; overflow: hidden;'>
	<a-scene embedded arjs='sourceType: webcam;'>
		<button id="playButton" style="
		position: absolute; 
		top: 50%; 
		left: 50%; 
		transform: translate(-50%, -50%); 
		z-index: 1000; 
		background: #2196f3;
    border: none;
    border-radius: 3px;
    padding: 10px 20px;
    color: white;">
			PLAY
		</button>
		<button id="pauseButton" style=" position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1000; background: #2196f3; border:
		none; border-radius: 3px; padding: 10px 20px; color: white;">
			PAUSE
		</button>

		<a-assets>
			<video playsinline controls id="video" src="<%= data.videoPath %>"></video>
		</a-assets>

		<a-video src="#video" rotation="270 0 0" width="1.6" height="0.9"></a-video>
		<a-marker-camera type='pattern' url="<%= data.markerPath %>"></a-marker-camera>
	</a-scene>


	<script>
		let videoElement = document.querySelector('video');
		let playButton = document.getElementById('playButton');
		let pauseButton = document.getElementById('pauseButton');

		pauseButton.style.display = 'none';

		videoElement.addEventListener('ended', () => {
			playButton.style.display = 'block';
			pauseButton.style.display = 'none';
		})

		playButton.addEventListener('click', () => {
			videoElement.play();
			playButton.style.display = 'none';
			pauseButton.style.display = 'block';
		})

		pauseButton.addEventListener('click', () => {
			videoElement.pause();
			playButton.style.display = 'block';
			pauseButton.style.display = 'none';
		})
	</script>
</body>

</html>